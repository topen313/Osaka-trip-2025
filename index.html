<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>å¤§é˜ªå››äººéŠğŸ</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'milk-base': '#fdfbf7',   // ç±³ç™½åº•è‰²
                        'milk-card': '#ffffff',   // å¡ç‰‡ç™½
                        'coffee-text': '#4a3b32', // æ·±å’–å•¡å­—
                        'latte-primary': '#b08d79', // æ‹¿éµä¸»è‰²
                        'latte-light': '#e6dcd3',   // æ·ºæ‹¿éµ
                        'rose-accent': '#f43f5e'
                    }
                }
            }
        }
    </script>

    <style>
        /* éš±è—æ²è»¸ä½†ä¿ç•™åŠŸèƒ½ */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* ç»ç’ƒæ“¬æ…‹å°èˆªåˆ— */
        .glass-nav {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        /* iOS åº•éƒ¨å®‰å…¨è·é›¢ */
        .pb-safe {
            padding-bottom: env(safe-area-inset-bottom);
        }

        body {
            background-color: #fdfbf7; /* é è¨­èƒŒæ™¯è‰² */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        /* æ™‚é–“è»¸æ¨£å¼ */
        .timeline-line {
            position: absolute;
            left: 7px;
            top: 10px;
            bottom: 0;
            width: 2px;
            background-color: #e6dcd3;
            z-index: 0;
        }
        .timeline-node {
            position: absolute;
            left: -20px;
            top: 5px;
            z-index: 10;
        }
        .timeline-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background-color: #e6dcd3;
            border: 3px solid #ffffff;
        }
        .timeline-dot.highlight {
            background-color: #b08d79;
            transform: scale(1.2);
        }
        .timeline-dot.transport {
            background-color: #9ca3af;
        }
        .transport-box {
            background-color: #f3f4f6;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.8rem;
            color: #4b5563;
            display: inline-block;
        }
        .transport-box.reserve {
            background-color: #fff1f2; /* æ·ºç²‰ç´… */
            border: 1px solid #fecdd3;
        }

        /* é é¢åˆ‡æ›æ§åˆ¶ */
        .page-section {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        .page-section.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="text-coffee-text pb-20">

    <header class="fixed top-0 w-full z-40 bg-milk-base/95 backdrop-blur-sm px-6 py-4 shadow-sm border-b border-latte-light/20">
        <div class="flex justify-between items-center max-w-md mx-auto">
            <div>
                <h1 class="text-xl font-bold text-coffee-text tracking-wide">å¤§é˜ªå››äººéŠğŸ</h1>
                <p class="text-xs text-latte-primary font-medium">Dec 9 - Dec 14, 2025</p>
            </div>
            <div class="w-10 h-10 rounded-full bg-latte-light flex items-center justify-center text-coffee-text shadow-sm">
                <i class="fa-solid fa-dog text-lg"></i>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 mt-24 max-w-md">

        <div id="page-itinerary" class="page-section active">
            
            <div class="flex overflow-x-auto no-scrollbar gap-2 mb-4 pb-2 sticky top-[72px] z-30 bg-milk-base/95 py-2">
                <button onclick="filterItinerary('all')" class="filter-btn active whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold bg-latte-light text-coffee-text shadow-sm">å…¨éƒ¨</button>
                <button onclick="filterItinerary('day-1')" class="filter-btn whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold bg-latte-light text-coffee-text shadow-sm">12/9 ç¬¬ä¸€å¤©</button>
                <button onclick="filterItinerary('day-2')" class="filter-btn whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold bg-latte-light text-coffee-text shadow-sm">12/10 ç¬¬äºŒå¤©</button>
                <button onclick="filterItinerary('day-3')" class="filter-btn whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold bg-latte-light text-coffee-text shadow-sm">12/11 ç¬¬ä¸‰å¤©</button>
                <button onclick="filterItinerary('day-4')" class="filter-btn whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold bg-latte-light text-coffee-text shadow-sm">12/12 ç¬¬å››å¤©</button>
                <button onclick="filterItinerary('day-5')" class="filter-btn whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold bg-latte-light text-coffee-text shadow-sm">12/13 ç¬¬äº”å¤©</button>
                <button onclick="filterItinerary('day-6')" class="filter-btn whitespace-nowrap px-4 py-2 rounded-full text-sm font-bold bg-latte-light text-coffee-text shadow-sm">12/14 ç¬¬å…­å¤©</button>
            </div>

            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-xl shadow-sm mb-6">
                <div class="flex items-center mb-2">
                    <i class="fa-solid fa-circle-exclamation text-yellow-500 mr-2"></i>
                    <h3 class="font-bold text-sm text-yellow-800">å¿…åšï¼šJR æŒ‡å®šå¸­åŠƒä½</h3>
                </div>
                <div class="text-xs text-yellow-800 space-y-1 pl-6">
                    <p class="font-bold">å»ºè­°æ–¼ 12/9 æŠµé”æ©Ÿå ´æ™‚ä¸€æ¬¡åŠƒå¥½ï¼š</p>
                    <ul class="list-disc list-outside ml-3 space-y-1">
                        <li><strong>12/12 å»ç¨‹ 08:14</strong> å¤§é˜ªâ†’ç¦çŸ¥å±± (ç‰¹æ€¥ Kounotori)</li>
                        <li><strong>12/12 å»ç¨‹ 09:59</strong> ç¦çŸ¥å±±â†’å¤©æ©‹ç«‹ (ç‰¹æ€¥ Hashidate)</li>
                        <li><strong>12/12 å›ç¨‹ 18:09</strong> å¤©æ©‹ç«‹â†’äº¬éƒ½ (ç‰¹æ€¥ Hashidate)</li>
                        <li><strong>12/12 å›ç¨‹ 20:30</strong> äº¬éƒ½â†’å¤©ç‹å¯º (ç‰¹æ€¥ Haruka)</li>
                        <li><strong>12/14 å›ç¨‹</strong> é›£æ³¢â†’æ©Ÿå ´ (Haruka)</li>
                    </ul>
                </div>
            </div>

            <div id="day-1" class="day-container mb-8">
                <div class="flex items-center mb-4">
                    <span class="bg-coffee-text text-white text-xs font-bold px-2 py-1 rounded mr-2">DAY 1</span>
                    <span class="text-base font-bold text-coffee-text">12/9 (äºŒ) æŠµé”èˆ‡é€›è¡—</span>
                </div>
                <div class="bg-milk-card rounded-2xl p-5 shadow-sm border border-latte-light/30">
                    <div class="timeline-wrapper relative ml-4">
                        <div class="timeline-line"></div>
                        
                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot highlight"></div></div>
                            <div>
                                <p class="text-sm font-bold text-latte-primary">09:55</p>
                                <p class="font-bold text-coffee-text text-lg">æŠµé”é—œè¥¿ KIX</p>
                                <p class="text-xs text-gray-400">BR178 (06:30 TPE èµ·é£›)</p>
                            </div>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot transport"></div></div>
                            <div class="transport-box">
                                <i class="fa-solid fa-train mr-2"></i>å—æµ·é›»éµ â†’ é›£æ³¢ç«™
                            </div>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <p class="text-sm font-bold text-latte-primary">Check-in</p>
                            <a href="https://maps.google.com/?q=Hotel+Abitare+Namba+West" target="_blank" class="font-bold text-coffee-text text-lg underline decoration-latte-primary/30">Hotel Abitare Namba West</a>
                            <p class="text-xs text-gray-400">å…ˆæ”¾è¡Œæ</p>
                        </div>

                         <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot highlight"></div></div>
                            <p class="text-sm font-bold text-rose-500">13:00 (é ç´„)</p>
                            <a href="https://maps.google.com/?q=LIM+Osaka+Hair" target="_blank" class="font-bold text-coffee-text text-lg underline decoration-rose-300">LIM æŸ“é«®</a>
                            <p class="text-xs text-rose-400">è«‹æº–æ™‚æŠµé”</p>
                        </div>

                         <div class="relative pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <p class="text-sm font-bold text-latte-primary">æ™šä¸Š</p>
                            <div class="flex gap-3">
                                <a href="https://maps.google.com/?q=Namba" target="_blank" class="font-bold text-coffee-text underline decoration-latte-primary/30">é›£æ³¢</a>
                                <a href="https://maps.google.com/?q=Shinsaibashi" target="_blank" class="font-bold text-coffee-text underline decoration-latte-primary/30">å¿ƒé½‹æ©‹</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="day-2" class="day-container mb-8">
                <div class="flex items-center mb-4">
                    <span class="bg-coffee-text text-white text-xs font-bold px-2 py-1 rounded mr-2">DAY 2</span>
                    <span class="text-base font-bold text-coffee-text">12/10 (ä¸‰) ç’°çƒå½±åŸ</span>
                </div>
                <div class="bg-milk-card rounded-2xl p-5 shadow-sm border border-latte-light/30">
                     <div class="timeline-wrapper relative ml-4">
                        <div class="timeline-line"></div>
                        
                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot transport"></div></div>
                            <div class="transport-box">
                                <i class="fa-solid fa-train mr-2"></i>æ«»å· â†’ è¥¿ä¹æ¢ â†’ ç’°çƒåŸ
                            </div>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot highlight"></div></div>
                            <a href="https://maps.google.com/?q=USJ" target="_blank" class="font-bold text-coffee-text text-xl underline decoration-purple-300">USJ å¤§é˜ªç’°çƒå½±åŸ</a>
                            <p class="text-xs text-purple-500 mt-1">å¿«é€Ÿé€šé—œï¼šRace & Thrill</p>
                        </div>

                        <div class="relative mb-6 ml-2 bg-purple-50 border border-purple-100 rounded-xl p-4">
                            <h4 class="font-bold text-purple-800 text-sm mb-2"><i class="fa-solid fa-wand-magic-sparkles mr-1"></i>æ”»ç•¥ï¼šé€†æ™‚é‡ + äºŒåˆ·ä»»å¤©å ‚</h4>
                            <ol class="list-decimal list-inside text-xs text-purple-900 space-y-2">
                                <li><strong>08:30 å…¥åœ’</strong>ï¼šç›´è¡ <span class="font-bold">é£›å¤©ç¿¼é¾</span> (è¶äººå°‘)ã€‚</li>
                                <li><strong>é€†æ™‚é‡ç©</strong>ï¼šå¾€ä¾ç¾…ç´€ã€å¤§ç™½é¯Šæ–¹å‘èµ°ã€‚</li>
                                <li><strong>12:50 (å¿«é€Ÿé€šé—œ)</strong>ï¼šé€²å…¥ <span class="font-bold">ä»»å¤©å ‚åœ’å€</span> (ç‘ªåˆ©æ­è³½è»Š)ã€‚</li>
                                <li><strong>15:40 (å¿«é€Ÿé€šé—œ)</strong>ï¼šé€²å…¥ <span class="font-bold">å“ˆåˆ©æ³¢ç‰¹</span> (ç¦å¿Œä¹‹æ—…)ã€‚</li>
                                <li class="bg-white p-2 rounded border border-purple-200 text-red-500 font-bold">
                                    Tips: æƒ³è¦æ™šä¸ŠäºŒåˆ·ä»»å¤©å ‚ï¼Œå…¥åœ’è«‹é¦¬ä¸ŠæŠ½ã€Œå€åŸŸå…¥å ´æ•´ç†åˆ¸ã€æŠ½æ™šä¸Šçš„æ™‚æ®µï¼
                                </li>
                                <li><strong>æ™šä¸Š</strong>ï¼šç© <span class="font-bold">å¥½èŠå¡¢ç¾å¤¢</span>ã€‚</li>
                            </ol>
                        </div>

                        <div class="relative pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <p class="text-sm font-bold text-latte-primary">æ™šé¤</p>
                            <a href="https://maps.google.com/?q=sazare+osaka" target="_blank" class="font-bold text-coffee-text text-lg underline decoration-latte-primary/30">sazare å¤§é˜ªç‡’</a>
                        </div>
                     </div>
                </div>
            </div>

            <div id="day-3" class="day-container mb-8">
                <div class="flex items-center mb-4">
                    <span class="bg-coffee-text text-white text-xs font-bold px-2 py-1 rounded mr-2">DAY 3</span>
                    <span class="text-base font-bold text-coffee-text">12/11 (å››) ç®•é¢å‹é‹</span>
                </div>
                <div class="bg-milk-card rounded-2xl p-5 shadow-sm border border-latte-light/30">
                    <div class="timeline-wrapper relative ml-4">
                        <div class="timeline-line"></div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot transport"></div></div>
                            <div class="transport-box">
                                <div class="mb-1"><i class="fa-solid fa-train mr-2"></i>é›£æ³¢ â†’ ç®•é¢è±é‡</div>
                                <div><i class="fa-solid fa-taxi mr-2"></i>è½‰è¨ˆç¨‹è»Š (Â¥3500) â†’ å‹å°¾å¯º</div>
                            </div>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot highlight"></div></div>
                            <a href="https://maps.google.com/?q=Katsuo-ji" target="_blank" class="font-bold text-coffee-text text-lg underline decoration-red-300">å‹å°¾å¯º (æ±‚å‹é‹)</a>
                        </div>

                         <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <a href="https://maps.google.com/?q=Minoh+Falls" target="_blank" class="font-bold text-coffee-text text-lg underline decoration-blue-300">ç®•é¢ç€‘å¸ƒ & å±±æœ¬å’–å•¡</a>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot transport"></div></div>
                            <div class="transport-box">
                                <i class="fa-solid fa-person-walking mr-2"></i>æ­¥è¡Œä¸‹å±± â†’ ç®•é¢ç«™ â†’ æ¢…ç”°
                            </div>
                        </div>

                        <div class="relative pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <p class="text-sm font-bold text-latte-primary">21:00 æ™šé¤</p>
                            <a href="https://maps.google.com/?q=Yakitori" target="_blank" class="font-bold text-coffee-text text-lg underline decoration-latte-primary/30">Yakitori å±…é…’å±‹</a>
                        </div>
                    </div>
                </div>
            </div>

            <div id="day-4" class="day-container mb-8">
                <div class="flex items-center mb-4">
                    <span class="bg-coffee-text text-white text-xs font-bold px-2 py-1 rounded mr-2">DAY 4</span>
                    <span class="text-base font-bold text-coffee-text">12/12 (äº”) å¤©æ©‹ç«‹</span>
                </div>
                <div class="bg-milk-card rounded-2xl p-5 shadow-sm border border-latte-light/30">
                    <div class="timeline-wrapper relative ml-4">
                        <div class="timeline-line"></div>

                        <div class="relative mb-4 pl-4">
                            <div class="timeline-node"><div class="timeline-dot transport"></div></div>
                            <div class="transport-box">
                                <span class="font-bold text-coffee-text mr-2">07:51</span> æ«»å· â†’ è¥¿ä¹æ¢<br>
                                <span class="text-xs">ã€Œé˜ªç¥é›£æ³¢ç·šå¿«é€Ÿæ€¥è¡Œã€Â¥220</span>
                            </div>
                        </div>
                        
                        <div class="relative mb-4 pl-4">
                            <div class="timeline-node"><div class="timeline-dot transport"></div></div>
                            <div class="transport-box">
                                <span class="font-bold text-coffee-text mr-2">08:01</span> è¥¿ä¹æ¢ â†’ å¤§é˜ª<br>
                                <span class="text-xs">JRå¤§é˜ªç’°ç‹€ç·š</span>
                            </div>
                        </div>

                        <div class="relative mb-4 pl-4">
                            <div class="timeline-node"><div class="timeline-dot highlight"></div></div>
                            <div class="transport-box reserve">
                                <span class="font-bold text-red-900 mr-2">08:14</span> å¤§é˜ª â†’ ç¦çŸ¥å±±<br>
                                <span class="text-xs font-bold">JRç‰¹æ€¥ Kounotori (éœ€åŠƒä½)</span>
                            </div>
                        </div>

                        <div class="relative mb-4 pl-4">
                            <div class="timeline-node"><div class="timeline-dot highlight"></div></div>
                            <div class="transport-box reserve">
                                <span class="font-bold text-red-900 mr-2">09:59</span> ç¦çŸ¥å±± â†’ 10:40 å¤©æ©‹ç«‹<br>
                                <span class="text-xs font-bold">JRç‰¹æ€¥ Hashidate (éœ€åŠƒä½)</span>
                            </div>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <p class="text-sm font-bold text-latte-primary">11:00 - 11:12</p>
                            <a href="#" class="font-bold text-coffee-text underline">å¤©æ©‹ç«‹è§€å…‰èˆ¹ â†’ ä¸€å®®ç¢¼é ­</a>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot transport"></div></div>
                            <div class="transport-box">
                                <span class="font-bold text-coffee-text mr-2">11:24 - 11:57</span>ä¸¹æµ·å·´å£«<br>
                                <span class="text-xs">å¤©æ©‹ç«‹å…ƒä¼Šå‹¢ç± ç¥ç¤¾ â†’ é“è·¯é©›ç«™èˆ¹å±‹ä¹‹é„‰ä¼Šæ ¹</span>
                            </div>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot highlight"></div></div>
                            <p class="text-sm font-bold text-latte-primary">12:00 - 13:30</p>
                            <a href="https://maps.google.com/?q=INE+CAFE" target="_blank" class="font-bold text-coffee-text text-lg underline decoration-latte-primary">INE CAFE / èˆŸå±‹ç¾¤</a>
                            <p class="text-xs text-gray-500">åˆé¤ã€é€›é€›</p>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot transport"></div></div>
                            <div class="transport-box">
                                <span class="font-bold text-coffee-text mr-2">13:33 - 13:37</span>ä¸¹æµ·å·´å£«<br>
                                <span class="text-xs">ä¼Šæ ¹ â†’ ä¼Šæ ¹ç£å·¡æ¸¸è§€å…‰èˆ¹æ—¥å‡ºç«™</span>
                            </div>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <p class="text-sm font-bold text-latte-primary">14:00 - 14:30</p>
                            <a href="#" class="font-bold text-coffee-text underline">ä¼Šæ ¹è§€å…‰èˆ¹é¤µæµ·é·—</a>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot transport"></div></div>
                            <div class="transport-box">
                                <span class="font-bold text-coffee-text mr-2">14:46 - 15:13</span>ä¸¹æµ·å·´å£«<br>
                                <span class="text-xs">æ—¥å‡ºç«™ â†’ å¤©æ©‹ç«‹çºœè»Š (å‚˜æ¾å…¬åœ’)</span>
                            </div>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <p class="text-sm font-bold text-latte-primary">15:13 - 16:10</p>
                            <a href="https://maps.google.com/?q=Amanohashidate+View+Land" target="_blank" class="font-bold text-coffee-text underline">å‚˜æ¾å…¬åœ’çºœè»Š</a>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <p class="text-sm font-bold text-latte-primary">16:15 - 16:27</p>
                            <span class="text-coffee-text">å¤©æ©‹ç«‹è§€å…‰èˆ¹ â†’ å¤©æ©‹ç«‹è»Šç«™</span>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <p class="text-sm font-bold text-latte-primary">16:27 - 18:00</p>
                            <a href="#" class="font-bold text-coffee-text underline">å¤©æ©‹ç«‹è»Šç«™é™„è¿‘</a>
                            <p class="text-xs text-gray-500">é€›é€›ã€åƒæ™šé¤ã€è²·ä¼´æ‰‹ç¦®</p>
                        </div>

                        <div class="relative mb-4 pl-4">
                            <div class="timeline-node"><div class="timeline-dot highlight"></div></div>
                            <div class="transport-box reserve">
                                <span class="font-bold text-red-900 mr-2">18:09</span> å¤©æ©‹ç«‹ â†’ äº¬éƒ½<br>
                                <span class="text-xs font-bold">JRç‰¹æ€¥ Hashidate (éœ€åŠƒä½)</span>
                            </div>
                        </div>

                        <div class="relative mb-4 pl-4">
                            <div class="timeline-node"><div class="timeline-dot highlight"></div></div>
                            <div class="transport-box reserve">
                                <span class="font-bold text-red-900 mr-2">20:30</span> äº¬éƒ½ â†’ å¤©ç‹å¯º<br>
                                <span class="text-xs font-bold">JR Haruka (éœ€åŠƒä½)</span>
                            </div>
                        </div>

                        <div class="relative pl-4">
                            <div class="timeline-node"><div class="timeline-dot transport"></div></div>
                            <div class="transport-box">
                                <span class="font-bold text-coffee-text mr-2">21:25</span> å¤©ç‹å¯º â†’ JRé›£æ³¢<br>
                                <span class="text-xs">é—œè¥¿æœ¬ç·š / å¤§å’Œ</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="day-5" class="day-container mb-8">
                <div class="flex items-center mb-4">
                    <span class="bg-coffee-text text-white text-xs font-bold px-2 py-1 rounded mr-2">DAY 5</span>
                    <span class="text-base font-bold text-coffee-text">12/13 (å…­) å¤§é˜ªå¸‚å€</span>
                </div>
                <div class="bg-milk-card rounded-2xl p-5 shadow-sm border border-latte-light/30">
                     <div class="timeline-wrapper relative ml-4">
                        <div class="timeline-line"></div>
                        
                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <p class="text-sm font-bold text-latte-primary">09:00</p>
                            <a href="https://maps.google.com/?q=Kizu+Market" target="_blank" class="font-bold text-coffee-text text-lg underline decoration-latte-primary/30">æœ¨æ´¥å¸‚å ´</a>
                        </div>
                        
                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <p class="text-sm font-bold text-latte-primary">ä¸Šåˆ</p>
                            <div class="flex flex-col">
                                <a href="https://maps.google.com/?q=Tsutenkaku" target="_blank" class="font-bold text-coffee-text underline decoration-gray-300 mb-1">é€šå¤©é–£</a>
                                <a href="https://maps.google.com/?q=Osaka+Castle" target="_blank" class="font-bold text-coffee-text underline decoration-gray-300">å¤§é˜ªåŸ</a>
                            </div>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot highlight"></div></div>
                            <p class="text-sm font-bold text-rose-500">12:30 (é ç´„)</p>
                            <a href="https://maps.google.com/?q=okuwo" target="_blank" class="font-bold text-coffee-text text-lg underline decoration-rose-300">okuwo shabu</a>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <p class="text-sm font-bold text-latte-primary">ä¸‹åˆ</p>
                            <div class="flex flex-col">
                                <a href="https://maps.google.com/?q=Shinsaibashi" target="_blank" class="font-bold text-coffee-text underline decoration-gray-300 mb-1">å¿ƒé½‹æ©‹</a>
                                <a href="#" target="_blank" class="font-bold text-coffee-text underline decoration-gray-300">ç‹—ç‹—å¯º</a>
                            </div>
                        </div>

                        <div class="relative pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <p class="text-sm font-bold text-latte-primary">18:00</p>
                            <a href="https://maps.google.com/?q=New+Babe" target="_blank" class="font-bold text-coffee-text text-lg underline decoration-latte-primary/30">new babe ç‚¸è±¬æ’</a>
                        </div>
                     </div>
                </div>
            </div>

            <div id="day-6" class="day-container mb-24">
                <div class="flex items-center mb-4">
                    <span class="bg-coffee-text text-white text-xs font-bold px-2 py-1 rounded mr-2">DAY 6</span>
                    <span class="text-base font-bold text-coffee-text">12/14 (æ—¥) è¿”ç¨‹</span>
                </div>
                <div class="bg-milk-card rounded-2xl p-5 shadow-sm border border-latte-light/30">
                    <div class="timeline-wrapper relative ml-4">
                        <div class="timeline-line"></div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot highlight"></div></div>
                            <div class="transport-box reserve">
                                <span class="font-bold text-red-900">å‰å¾€æ©Ÿå ´ (Haruka)</span><br>
                                <span class="text-xs">JRé›£æ³¢ â†’ å¤©ç‹å¯º â†’ é—œè¥¿æ©Ÿå ´ (éœ€åŠƒä½)</span>
                            </div>
                        </div>

                        <div class="relative mb-6 pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <p class="text-sm font-bold text-latte-primary">10:00</p>
                            <p class="font-bold text-coffee-text">æŠµé”æ©Ÿå ´ / é€›å…ç¨…åº—</p>
                        </div>

                        <div class="relative pl-4">
                            <div class="timeline-node"><div class="timeline-dot"></div></div>
                            <p class="text-sm font-bold text-latte-primary">12:55</p>
                            <p class="font-bold text-coffee-text text-lg">BR131 èµ·é£›</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="page-accounting" class="page-section">
            <h2 class="text-xl font-bold text-coffee-text mb-4">æ—…è¡Œè¨˜å¸³</h2>
            <div class="bg-coffee-text rounded-2xl p-6 text-white mb-6 shadow-lg">
                <p class="text-sm text-latte-primary mb-1">ç¸½æ”¯å‡º (JPY)</p>
                <div class="text-4xl font-bold mb-2 tracking-wider" id="total-amount">Â¥0</div>
                <p class="text-xs text-gray-400">ç´„åˆ TWD <span id="total-twd">0</span></p>
            </div>
            <div class="bg-milk-card rounded-2xl p-4 shadow-sm mb-6 border border-latte-light/30">
                <div class="flex gap-2 mb-3">
                    <select id="expense-category" class="w-1/3 bg-milk-base rounded-lg border-0 text-xs px-2 py-3 text-coffee-text outline-none">
                        <option value="é£²é£Ÿ">ğŸ´ é£²é£Ÿ</option>
                        <option value="äº¤é€š">ğŸšƒ äº¤é€š</option>
                        <option value="è³¼ç‰©">ğŸ›ï¸ è³¼ç‰©</option>
                        <option value="å…¶ä»–">ğŸ“„ å…¶ä»–</option>
                    </select>
                    <input type="text" id="expense-name" placeholder="å“é …" class="w-2/3 bg-milk-base rounded-lg border-0 px-3 py-3 text-sm text-coffee-text outline-none">
                </div>
                <div class="flex gap-2 items-center">
                    <input type="number" id="expense-price" placeholder="é‡‘é¡ (JPY)" class="flex-1 bg-milk-base rounded-lg border-0 px-3 py-3 text-sm text-coffee-text outline-none">
                    <button onclick="addExpense()" class="bg-coffee-text text-white px-5 py-3 rounded-lg text-sm font-bold shadow-md active:scale-95">è¼¸å…¥</button>
                </div>
            </div>
            <ul id="expense-list" class="space-y-3 pb-20"></ul>
        </div>

        <div id="page-info" class="page-section">
             <h2 class="text-xl font-bold text-coffee-text mb-4">å¯¦ç”¨è³‡è¨Š</h2>
             
             <div class="bg-milk-card rounded-2xl p-5 shadow-sm border border-latte-light/30 mb-6">
                 <h3 class="text-sm font-bold text-latte-primary mb-3"><i class="fa-solid fa-cloud-sun mr-2"></i>å¤©æ°£é å ± (é«˜/ä½æº«)</h3>
                 <div class="flex justify-between text-center divide-x divide-gray-100">
                     <div class="flex-1"><p class="text-xs text-gray-400 mb-1">12/9</p><i class="fa-solid fa-sun text-orange-300 mb-1"></i><p class="text-xs font-bold text-coffee-text">12Â°<span class="text-gray-400">/5Â°</span></p></div>
                     <div class="flex-1"><p class="text-xs text-gray-400 mb-1">12/10</p><i class="fa-solid fa-cloud-sun text-yellow-400 mb-1"></i><p class="text-xs font-bold text-coffee-text">11Â°<span class="text-gray-400">/4Â°</span></p></div>
                     <div class="flex-1"><p class="text-xs text-gray-400 mb-1">12/11</p><i class="fa-solid fa-cloud text-gray-300 mb-1"></i><p class="text-xs font-bold text-coffee-text">10Â°<span class="text-gray-400">/3Â°</span></p></div>
                     <div class="flex-1"><p class="text-xs text-gray-400 mb-1">12/12</p><i class="fa-solid fa-umbrella text-blue-300 mb-1"></i><p class="text-xs font-bold text-coffee-text">9Â°<span class="text-gray-400">/2Â°</span></p></div>
                     <div class="flex-1"><p class="text-xs text-gray-400 mb-1">12/13</p><i class="fa-solid fa-sun text-orange-300 mb-1"></i><p class="text-xs font-bold text-coffee-text">11Â°<span class="text-gray-400">/4Â°</span></p></div>
                 </div>
             </div>

             <div class="bg-milk-card rounded-2xl p-5 shadow-sm border border-latte-light/30 mb-20">
                <h3 class="text-sm font-bold text-latte-primary mb-4"><i class="fa-solid fa-clipboard-check mr-2"></i>è¡Œå‰æª¢æŸ¥æ¸…å–®</h3>
                <div class="grid grid-cols-2 gap-2" id="checklist-container"></div>
             </div>
        </div>

        <div id="page-guide" class="page-section">
             <div class="flex flex-col h-[80vh]">
                <div class="flex-none mb-4">
                    <h2 class="text-xl font-bold text-coffee-text">æ™ºèƒ½å°éŠ</h2>
                    <p class="text-xs text-gray-400">è¼¸å…¥é—œéµå­—ï¼šå¤©æ°£ã€ç’°çƒã€å¤©æ©‹ç«‹...</p>
                </div>
                <div id="chat-box" class="flex-1 overflow-y-auto bg-white/50 rounded-2xl p-4 mb-4 space-y-4 shadow-inner border border-milk-base no-scrollbar">
                    <div class="flex items-start">
                        <div class="w-8 h-8 rounded-full bg-latte-primary flex items-center justify-center text-white flex-shrink-0 mr-2"><i class="fa-solid fa-dog text-xs"></i></div>
                        <div class="bg-white p-3 rounded-r-xl rounded-bl-xl shadow-sm text-sm text-coffee-text border border-gray-100">
                            æ±ªï¼æˆ‘æ˜¯ä½ å€‘çš„å¤§é˜ªå°å¹«æ‰‹ ğŸ¶<br>USJ æ”»ç•¥æˆ‘å·²ç¶“å¹«ä½ å€‘å¯«åœ¨è¡Œç¨‹è£¡å›‰ï¼
                        </div>
                    </div>
                </div>
                <div class="flex-none flex gap-2 mb-20">
                    <input type="text" id="chat-input" placeholder="è¼¸å…¥å•é¡Œ..." class="flex-1 bg-white rounded-xl border border-latte-light px-4 py-3 text-sm focus:outline-none focus:border-latte-primary shadow-sm">
                    <button onclick="sendMessage()" class="bg-coffee-text text-white w-12 rounded-xl flex items-center justify-center shadow-md active:scale-95"><i class="fa-solid fa-paper-plane text-sm"></i></button>
                </div>
             </div>
        </div>

    </main>

    <nav class="fixed bottom-0 w-full glass-nav border-t border-white/20 pb-safe z-50">
        <div class="flex justify-around items-center h-16 max-w-md mx-auto">
            <button onclick="showPage('page-itinerary')" class="nav-btn w-full h-full flex flex-col items-center justify-center text-coffee-text active-nav" data-target="page-itinerary">
                <i class="fa-solid fa-map-location-dot text-lg mb-1"></i><span class="text-[10px]">è¡Œç¨‹</span>
            </button>
            <button onclick="showPage('page-accounting')" class="nav-btn w-full h-full flex flex-col items-center justify-center text-gray-400 hover:text-latte-primary" data-target="page-accounting">
                <i class="fa-solid fa-wallet text-lg mb-1"></i><span class="text-[10px]">è¨˜å¸³</span>
            </button>
            <button onclick="showPage('page-info')" class="nav-btn w-full h-full flex flex-col items-center justify-center text-gray-400 hover:text-latte-primary" data-target="page-info">
                <i class="fa-solid fa-circle-info text-lg mb-1"></i><span class="text-[10px]">è³‡è¨Š</span>
            </button>
            <button onclick="showPage('page-guide')" class="nav-btn w-full h-full flex flex-col items-center justify-center text-gray-400 hover:text-latte-primary" data-target="page-guide">
                <i class="fa-solid fa-comments text-lg mb-1"></i><span class="text-[10px]">å°éŠ</span>
            </button>
        </div>
    </nav>

    <script>
        // --- Navigation ---
        function showPage(pageId) {
            document.querySelectorAll('.page-section').forEach(el => el.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(btn => {
                if(btn.dataset.target === pageId) {
                    btn.classList.add('text-coffee-text'); btn.classList.remove('text-gray-400');
                } else {
                    btn.classList.remove('text-coffee-text'); btn.classList.add('text-gray-400');
                }
            });
            window.scrollTo(0,0);
        }

        function filterItinerary(dayId) {
            const days = document.querySelectorAll('.day-container');
            const buttons = document.querySelectorAll('.filter-btn');
            buttons.forEach(btn => {
                if (btn.getAttribute('onclick').includes(dayId)) {
                    btn.classList.add('active', 'bg-latte-primary', 'text-white');
                    btn.classList.remove('bg-latte-light', 'text-coffee-text');
                } else {
                    btn.classList.remove('active', 'bg-latte-primary', 'text-white');
                    btn.classList.add('bg-latte-light', 'text-coffee-text');
                }
            });
            if (dayId === 'all') { days.forEach(day => day.style.display = 'block'); } 
            else { days.forEach(day => day.id === dayId ? day.style.display = 'block' : day.style.display = 'none'); }
            window.scrollTo(0,0);
        }

        // --- Accounting ---
        const RATE = 0.20;
        let expenses = JSON.parse(localStorage.getItem('osakaTripExpenses')) || [];
        function renderExpenses() {
            const list = document.getElementById('expense-list');
            const totalEl = document.getElementById('total-amount');
            const totalTwdEl = document.getElementById('total-twd');
            list.innerHTML = '';
            let total = 0;
            expenses.slice().reverse().forEach((item, index) => {
                total += parseInt(item.amount);
                const li = document.createElement('li');
                li.className = 'bg-milk-card p-4 rounded-xl shadow-sm border border-latte-light/20 flex justify-between items-center';
                li.innerHTML = `
                    <div class="flex items-center"><span class="text-xs bg-latte-light text-coffee-text px-2 py-1 rounded mr-3">${item.category}</span><span class="text-coffee-text font-medium text-sm">${item.name}</span></div>
                    <div class="flex items-center"><span class="font-bold text-coffee-text mr-3">Â¥${item.amount}</span><button onclick="deleteExpense(${expenses.length - 1 - index})" class="text-gray-300 hover:text-red-400"><i class="fa-solid fa-xmark"></i></button></div>
                `;
                list.appendChild(li);
            });
            totalEl.innerText = `Â¥${total}`; totalTwdEl.innerText = Math.round(total * RATE);
            localStorage.setItem('osakaTripExpenses', JSON.stringify(expenses));
        }
        function addExpense() {
            const name = document.getElementById('expense-name').value;
            const amount = document.getElementById('expense-price').value;
            const category = document.getElementById('expense-category').value;
            if(name && amount) { expenses.push({ name, amount, category }); document.getElementById('expense-name').value = ''; document.getElementById('expense-price').value = ''; renderExpenses(); }
        }
        function deleteExpense(originalIndex) { if(confirm('åˆªé™¤æ­¤ç´€éŒ„ï¼Ÿ')) { expenses.splice(originalIndex, 1); renderExpenses(); } }
        renderExpenses();

        // --- Checklist ---
        const items = ['è¡£æœç­‰ç­‰','å¢¨é¡','è€³ç’°/æˆ’æŒ‡/æ©¡çš®ç­‹','å¸½å­','é‹å­','ç¢—ç­·','æ‹–é‹','æ•é ­/æ£‰è¢«','æ‰‹æ©ŸèƒŒå¸¶','æ¯›å·¾æµ´å·¾','ç‰™åˆ·','è¡£æ¶','é›»é¢¨æ‰‡','é˜²èšŠæ¶²/è…¸èƒƒè—¥','è¡Œæç§¤','è³¼ç‰©è¢‹/è¡Œæè¢‹','æ‰‹éŒ¶å……é›»å™¨','ç¡è¡£','è­·ç…§/è­‰ä»¶','å……é›»å™¨/è¡Œå……','é¦™æ°´','ç›¸æ©Ÿ/åº•ç‰‡','é›»è…¦/è½‰æ¥é ­/è…³æ¶','éŒ¢åŒ…/é‘°åŒ™','å£ç½©/é…’ç²¾/è¡›ç”Ÿç´™/æ£‰èŠ±æ£’','çœ¼é¡/éš±çœ¼','å„ç¨®è—¥é¡','åŒ–å¦å“ (æ´—ã€åŒ–ã€é˜²ã€å®š)','é›¢å­å¤¾æ¢³å­'];
        const checklistContainer = document.getElementById('checklist-container');
        let checkedState = JSON.parse(localStorage.getItem('osakaChecklistFull')) || {};
        items.forEach((item, idx) => {
            const isChecked = checkedState[item] ? 'checked' : '';
            const div = document.createElement('div');
            div.className = 'flex items-center p-2 hover:bg-gray-50 rounded-lg transition-colors col-span-1';
            div.innerHTML = `<input type="checkbox" id="check-${idx}" class="w-4 h-4 text-rose-accent rounded focus:ring-rose-accent" ${isChecked} onchange="toggleCheck('${item}')"><label for="check-${idx}" class="ml-3 text-xs text-coffee-text cursor-pointer truncate ${isChecked ? 'line-through text-gray-400' : ''}">${item}</label>`;
            checklistContainer.appendChild(div);
        });
        function toggleCheck(item) { checkedState[item] = !checkedState[item]; localStorage.setItem('osakaChecklistFull', JSON.stringify(checkedState)); location.reload(); }

        // --- Guide ---
        const botResponses = {
            'å¤©æ°£': 'é€™å¹¾å¤©å¤§é˜ªæ°£æº«ç´„ 5-12åº¦ï¼Œè¨˜å¾—å¸¶ä¿æš–å¤–å¥—ï¼å¤©æ©‹ç«‹é‚£å¤©æœƒæ¯”è¼ƒå†·å–”ã€‚',
            'äº¤é€š': 'Day 4 å»å¤©æ©‹ç«‹çš„ç‰¹æ€¥ Kounotori å’Œ Hashidate è¨˜å¾—ä¸€å®šè¦å…ˆåŠƒä½ï¼',
            'ç’°çƒ': 'USJ æ”»ç•¥ï¼šä¸€æ—©å…ˆè¡é£›å¤©ç¿¼é¾ï¼Œ12:50 ç”¨å¿«é€Ÿé€šé—œç©ä»»å¤©å ‚ï¼Œ15:40 ç©å“ˆåˆ©æ³¢ç‰¹ã€‚æƒ³äºŒåˆ·ä»»å¤©å ‚è¨˜å¾—ä¸€å…¥åœ’å°±æŠ½æ•´ç†åˆ¸ï¼',
            'é€€ç¨…': 'æ»¿ 5000 æ—¥åœ“(æœªç¨…) è¨˜å¾—å‡ºç¤ºè­·ç…§è¾¦ç†é€€ç¨…ã€‚',
            'default': 'é€™é¡Œæˆ‘å¯èƒ½ä¸çŸ¥é“... æ±ªï¼ğŸ¶'
        };
        function sendMessage() {
            const input = document.getElementById('chat-input'); const box = document.getElementById('chat-box'); const msg = input.value.trim();
            if(!msg) return;
            box.innerHTML += `<div class="flex items-center justify-end"><div class="bg-latte-primary text-white p-3 rounded-l-xl rounded-tr-xl shadow-md text-sm max-w-[80%]">${msg}</div></div>`;
            box.scrollTop = box.scrollHeight; input.value = '';
            setTimeout(() => {
                let reply = botResponses['default'];
                for(let key in botResponses) { if(msg.includes(key)) reply = botResponses[key]; }
                box.innerHTML += `<div class="flex items-start"><div class="w-8 h-8 rounded-full bg-latte-primary flex items-center justify-center text-white flex-shrink-0 mr-2"><i class="fa-solid fa-dog text-xs"></i></div><div class="bg-white p-3 rounded-r-xl rounded-bl-xl shadow-sm text-sm text-coffee-text border border-gray-100 max-w-[80%]">${reply}</div></div>`;
                box.scrollTop = box.scrollHeight;
            }, 600);
        }
    </script>
</body>
</html>
