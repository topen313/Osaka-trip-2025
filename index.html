<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>大阪六日遊行程</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'milk-base': '#FDFCF8',
                        'coffee-text': '#4A3B32',
                        'coffee-dark': '#3E2F28',
                        'latte-primary': '#A89F91',
                        'latte-light': '#E8E4D9',
                        'cream-card': '#FFFFFF',
                        'pale-red': '#FEF2F2',
                        'pale-red-border': '#FECACA',
                        'weather-sunny': '#FFFBEB',
                        'weather-cloudy': '#F3F4F6',
                        'weather-cold': '#EFF6FF',
                        'pastel-pink': '#FFF1F2',
                        'pastel-orange': '#FFF7ED',
                        'pastel-green': '#F0FDF4',
                        'pastel-blue': '#EFF6FF',
                        'pastel-purple': '#FAF5FF',
                        'pastel-gray': '#F9FAFB',
                    },
                    fontSize: {
                        'card-title': '16px',
                        'card-body': '15px',
                        'weather-lg': '24px',
                    },
                    boxShadow: {
                        'card': '0 4px 20px -2px rgba(74, 59, 50, 0.08)',
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #FDFCF8; color: #4A3B32; -webkit-tap-highlight-color: transparent; display: flex; height: 100vh; overflow: hidden; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Sidebar */
        .sidebar-nav { width: 80px; background-color: #F9F8F6; border-right: 1px solid #E8E4D9; display: flex; flex-direction: column; align-items: center; padding-top: 20px; flex-shrink: 0; z-index: 50; overflow-y: auto; }
        .main-content { flex: 1; overflow-y: auto; padding: 20px; position: relative; background-color: #FDFCF8; scroll-behavior: smooth; }

        /* Tabs */
        .nav-tab {
            width: 50px; height: 50px; display: flex; flex-direction: column; align-items: center; justify-content: center;
            margin-bottom: 10px; border-radius: 12px; font-weight: bold; font-size: 14px; color: #A89F91; transition: all 0.2s; cursor: pointer;
        }
        .nav-tab:hover { background-color: #F0EBE5; }
        .nav-tab.active { background-color: #4A3B32; color: #FFFFFF; box-shadow: 0 4px 10px rgba(74, 59, 50, 0.2); }
        .nav-tab-date { font-size: 10px; font-weight: normal; margin-top: -2px; }
        
        /* Separator */
        .nav-separator { width: 40px; height: 2px; background-color: #E8E4D9; margin: 10px 0 16px 0; border-radius: 2px; }

        /* Functional Tabs */
        .nav-func {
            width: 50px; height: 50px; display: flex; flex-direction: column; align-items: center; justify-content: center;
            margin-bottom: 10px; border-radius: 12px; color: #A89F91; transition: all 0.2s; cursor: pointer; font-size: 10px; font-weight: bold;
        }
        .nav-func i { font-size: 20px; margin-bottom: 4px; }
        .nav-func.active { background-color: #A89F91; color: white; box-shadow: 0 4px 10px rgba(168, 159, 145, 0.4); }

        /* Header */
        .app-header {
            position: sticky; top: 0; z-index: 40; background-color: rgba(253, 252, 248, 0.95); backdrop-filter: blur(5px);
            margin-left: -20px; margin-right: -20px; padding: 10px 20px; margin-bottom: 20px; border-bottom: 1px solid #f3f4f6;
            display: flex; justify-content: space-between; align-items: center;
        }

        /* Views */
        .view-section { display: none; animation: fadeIn 0.3s ease; }
        .view-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Timeline & Cards */
        .timeline-line-vertical { position: absolute; left: 19px; top: 10px; bottom: -10px; width: 2px; background-color: #E8E4D9; z-index: 0; }
        .timeline-dot { width: 12px; height: 12px; border-radius: 50%; background-color: #A89F91; border: 2px solid #FDFCF8; z-index: 10; position: relative; box-shadow: 0 0 0 1px #E8E4D9; }
        .timeline-dot.active { background-color: #4A3B32; }
        .timeline-dot.transport { background-color: #9CA3AF; width: 8px; height: 8px; left: 2px; border: none; box-shadow: none; }
        
        .creamy-card { 
            background-color: #FFFFFF; border-radius: 16px; padding: 16px; 
            box-shadow: 0 4px 20px -2px rgba(74, 59, 50, 0.08); transition: transform 0.1s; position: relative; border: 1px solid rgba(168, 159, 145, 0.1);
            margin-left: 32px; margin-bottom: 16px;
        }
        .creamy-card:active { transform: scale(0.98); }
        .nav-arrow { width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background-color: #F5F3EF; color: #4A3B32; font-size: 14px; }
        
        /* Hotel Button */
        .btn-hotel { font-size: 14px; padding: 10px 20px; border-radius: 30px; font-weight: 600; background-color: #3E2F28; color: white; display: inline-flex; align-items: center; gap: 8px; box-shadow: 0 4px 12px rgba(74, 59, 50, 0.3); transition: opacity 0.2s; }
        .btn-hotel:active { opacity: 0.8; }

        /* Text & Layout */
        .transport-text { font-size: 13px; color: #8C8C8C; padding: 10px 0; margin-left: 48px; position: relative; display: flex; align-items: center; flex-wrap: wrap; }
        .transport-text::before { content: ''; position: absolute; left: -29px; top: 50%; width: 6px; height: 6px; background-color: #E8E4D9; border-radius: 50%; transform: translateY(-50%); }
        .weather-capsule { display: inline-flex; align-items: center; padding: 8px 16px; border-radius: 20px; font-weight: bold; font-size: 13px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); margin-left: 48px; margin-bottom: 16px; border: 1px solid rgba(0,0,0,0.05); }
        .shop-btn { display: flex; align-items: center; justify-content: space-between; background: #F9F8F6; padding: 12px; border-radius: 12px; margin-bottom: 8px; border: 1px solid #E8E4D9; }

        /* Collapsible */
        .collapsible-header { cursor: pointer; user-select: none; }
        .collapsible-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
        .collapsible-content.open { max-height: 500px; }

        /* Day Headers */
        .day-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; padding-top: 20px; border-top: 1px dashed #E8E4D9; margin-left: 32px; }
        .day-header.first { border-top: none; padding-top: 0; }
        .day-title { font-weight: bold; font-size: 18px; color: #3E2F28; }
        .day-sub { font-size: 12px; color: #A89F91; }

        /* App Grid (Circle Icons) */
        .app-circle-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 24px; }
        .app-link-item { display: flex; flex-direction: column; align-items: center; gap: 8px; text-decoration: none; }
        .app-icon-circle { 
            width: 56px; height: 56px; border-radius: 20px; display: flex; align-items: center; justify-content: center; 
            font-size: 24px; box-shadow: 0 4px 12px rgba(74, 59, 50, 0.08); transition: transform 0.1s; background-color: white; border: 1px solid #E8E4D9;
        }
        .app-link-item:active .app-icon-circle { transform: scale(0.95); background-color: #F5F3EF; }
        .app-label { font-size: 12px; color: #4A3B32; font-weight: 600; text-align: center; }

        /* Grid for Shopping */
        .shop-item { position: relative; overflow: hidden; }
        .shop-img-box { width: 100%; padding-top: 100%; position: relative; background: #f3f4f6; border-radius: 8px; overflow: hidden; }
        .shop-img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }
        
        .modal { display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(74, 59, 50, 0.4); backdrop-filter: blur(2px); align-items: center; justify-content: center; }
        .modal.show { display: flex; }
    </style>
</head>
<body class="bg-milk-base">

    <nav class="sidebar-nav">
        <div class="mb-6 w-10 h-10 rounded-full bg-latte-light flex items-center justify-center text-coffee-text shadow-sm">
            <i class="fa-solid fa-leaf text-sm"></i>
        </div>

        <div onclick="switchPage('page-itinerary'); showItinerary('all')" class="nav-tab active" id="tab-all">ALL</div>
        <div onclick="switchPage('page-itinerary'); scrollToDay('day-1')" class="nav-tab" id="tab-day-1">D1<span class="nav-tab-date">12/9</span></div>
        <div onclick="switchPage('page-itinerary'); scrollToDay('day-2')" class="nav-tab" id="tab-day-2">D2<span class="nav-tab-date">12/10</span></div>
        <div onclick="switchPage('page-itinerary'); scrollToDay('day-3')" class="nav-tab" id="tab-day-3">D3<span class="nav-tab-date">12/11</span></div>
        <div onclick="switchPage('page-itinerary'); scrollToDay('day-4')" class="nav-tab" id="tab-day-4">D4<span class="nav-tab-date">12/12</span></div>
        <div onclick="switchPage('page-itinerary'); scrollToDay('day-5')" class="nav-tab" id="tab-day-5">D5<span class="nav-tab-date">12/13</span></div>
        <div onclick="switchPage('page-itinerary'); scrollToDay('day-6')" class="nav-tab" id="tab-day-6">D6<span class="nav-tab-date">12/14</span></div>

        <div class="nav-separator"></div>

        <div onclick="switchPage('page-accounting')" class="nav-func" id="nav-accounting">
            <i class="fa-solid fa-wallet"></i><span>記帳</span>
        </div>
        <div onclick="switchPage('page-shopping')" class="nav-func" id="nav-shopping">
            <i class="fa-solid fa-bag-shopping"></i><span>購物</span>
        </div>
    </nav>

    <main class="main-content no-scrollbar">
        
        <header class="app-header">
            <div>
                <h1 class="text-xl font-bold text-coffee-dark">Kansai Trip</h1>
                <p class="text-xs text-latte-primary">12/9 - 12/14</p>
            </div>
            <div class="flex items-center gap-3">
                <div class="text-right">
                    <div class="text-xs text-latte-primary">預算餘額</div>
                    <div class="font-bold text-coffee-dark">¥ 120,000</div>
                </div>
                <div class="w-8 h-8 rounded-full bg-latte-light flex items-center justify-center">
                    <i class="fa-solid fa-user text-xs text-coffee-text"></i>
                </div>
            </div>
        </header>

        <div id="page-itinerary" class="view-section active">
            
            <div class="relative pl-2 pb-20">
                <div class="timeline-line-vertical"></div>

                <div id="day-1" class="day-section mb-8">
                    <div class="timeline-dot absolute left-4 mt-6 active"></div>
                    <div class="day-header first">
                        <div>
                            <div class="day-title">Day 1 抵達大阪</div>
                            <div class="day-sub">12月9日 (星期二)</div>
                        </div>
                        <div class="weather-capsule bg-weather-sunny text-orange-600 border-orange-100">
                            <i class="fa-solid fa-sun mr-2"></i>12°C 晴
                        </div>
                    </div>

                    <div class="creamy-card">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h3 class="font-bold text-coffee-dark text-lg">桃園 <i class="fa-solid fa-plane mx-1 text-xs text-gray-400"></i> 大阪</h3>
                                <p class="text-sm text-gray-500">BR178 • 06:30 - <span class="text-coffee-dark font-bold">09:55</span></p>
                            </div>
                            <span class="bg-blue-50 text-blue-600 text-xs px-2 py-1 rounded font-bold">已確認</span>
                        </div>
                    </div>

                    <div class="creamy-card bg-pastel-orange border-orange-200">
                        <div class="flex items-center gap-2 mb-3">
                            <div class="w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center text-orange-600">
                                <i class="fa-solid fa-location-arrow"></i>
                            </div>
                            <h3 class="font-bold text-orange-800 text-base">機場 ⮕ 南海電鐵攻略</h3>
                        </div>
                        <div class="space-y-3 text-sm text-coffee-text">
                            <div class="flex gap-3">
                                <span class="font-bold text-orange-400">01</span>
                                <p>1F 入境大廳，找 <span class="font-bold">「鐵道 Railways」</span> 指標</p>
                            </div>
                            <div class="flex gap-3">
                                <span class="font-bold text-orange-400">02</span>
                                <p>搭手扶梯上 <span class="font-bold">2樓</span>，走過空橋到對面「關西空港站」</p>
                            </div>
                            <div class="flex gap-3">
                                <span class="font-bold text-orange-400">03</span>
                                <p>找 <span class="font-bold text-red-500">橘色/紅色改札口</span> (南海電鐵)<br><span class="text-xs text-gray-400">※ 藍色是JR不要走錯</span></p>
                            </div>
                        </div>
                    </div>

                    <div class="transport-text">
                        <i class="fa-solid fa-train mr-2 text-blue-500"></i>
                        南海特急 Rapi:t (推薦 11:05 或 11:35 發車) ⮕ 難波站
                    </div>

                    <div class="creamy-card">
                        <div class="flex items-center gap-3 mb-3">
                            <div class="w-10 h-10 rounded-full bg-pastel-gray flex items-center justify-center text-coffee-text">
                                <i class="fa-solid fa-hotel"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-coffee-dark">Hotel Abitare Namba West</h3>
                                <p class="text-xs text-gray-500">先寄放行李</p>
                            </div>
                        </div>
                        <div class="flex gap-2 mt-2">
                            <button class="text-xs bg-gray-100 px-3 py-1.5 rounded-full text-gray-600">難波站步行15分</button>
                        </div>
                    </div>

                    <div class="creamy-card bg-pastel-pink border-pink-100">
                        <div class="flex justify-between items-center mb-2">
                            <h3 class="font-bold text-pink-800"><i class="fa-solid fa-scissors mr-2"></i>LIM 染髮</h3>
                            <span class="text-lg font-bold text-pink-600">13:30</span>
                        </div>
                        <p class="text-xs text-pink-700 mb-2">南船場 (心齋橋附近)</p>
                        <div class="text-xs bg-white/60 p-2 rounded text-pink-800">
                            <i class="fa-solid fa-circle-check mr-1"></i>已預約
                        </div>
                    </div>
                    
                    <div class="creamy-card">
                        <h3 class="font-bold text-coffee-dark mb-1">難波逛街</h3>
                        <p class="text-sm text-gray-600">晚餐 & 購物</p>
                    </div>
                </div>

                <div id="day-2" class="day-section mb-8">
                    <div class="timeline-dot absolute left-4 mt-6"></div>
                    <div class="day-header">
                        <div>
                            <div class="day-title">Day 2 環球影城</div>
                            <div class="day-sub">12月10日 (星期三)</div>
                        </div>
                        <div class="weather-capsule bg-weather-cloudy text-gray-600">
                            <i class="fa-solid fa-cloud mr-2"></i>10°C 陰
                        </div>
                    </div>

                    <div class="creamy-card bg-pastel-blue border-blue-100">
                        <div class="flex items-center gap-3 mb-2">
                            <i class="fa-solid fa-wand-magic-sparkles text-blue-500 text-xl"></i>
                            <h3 class="font-bold text-blue-900 text-lg">USJ 環球影城</h3>
                        </div>
                        <p class="text-sm text-blue-800 mb-2">全天行程</p>
                        <div class="bg-white/50 p-3 rounded-lg text-xs text-blue-900 space-y-1">
                            <p><strong>交通：</strong>櫻川(阪神) ⮕ 西九條 ⮕ 環球城</p>
                        </div>
                    </div>

                    <div class="creamy-card">
                        <div class="flex justify-between items-center">
                            <h3 class="font-bold text-coffee-dark">晚餐：sazare 大阪燒</h3>
                            <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded">推薦</span>
                        </div>
                    </div>
                </div>

                <div id="day-3" class="day-section mb-8">
                    <div class="timeline-dot absolute left-4 mt-6"></div>
                    <div class="day-header">
                        <div>
                            <div class="day-title">Day 3 箕面瀑布</div>
                            <div class="day-sub">12月11日 (星期四)</div>
                        </div>
                        <div class="weather-capsule bg-weather-cold text-blue-600">
                            <i class="fa-solid fa-temperature-low mr-2"></i>8°C 冷
                        </div>
                    </div>

                    <div class="transport-text">09:30 出發</div>
                    
                    <div class="creamy-card">
                        <h3 class="font-bold text-coffee-dark">勝尾寺</h3>
                        <p class="text-xs text-gray-500 mt-1">達摩不倒翁勝地</p>
                    </div>
                    
                    <div class="transport-text">計程車 7分 ⮕ 箕面瀑布</div>

                    <div class="creamy-card">
                        <h3 class="font-bold text-coffee-dark">箕面瀑布 & 山本咖啡館</h3>
                    </div>

                    <div class="creamy-card bg-pastel-purple border-purple-100">
                        <h3 class="font-bold text-purple-900 mb-2">梅田逛街 & 晚餐</h3>
                        <div class="flex gap-2 flex-wrap">
                            <span class="text-xs bg-white px-2 py-1 rounded text-purple-800">ONIGIRI GORICHAN</span>
                            <span class="text-xs bg-white px-2 py-1 rounded text-purple-800">OSA+NEEL</span>
                            <span class="text-xs bg-white px-2 py-1 rounded text-purple-800">Yakitori 21:00</span>
                        </div>
                    </div>
                </div>

                <div id="day-4" class="day-section mb-8">
                    <div class="timeline-dot absolute left-4 mt-6"></div>
                    <div class="day-header">
                        <div>
                            <div class="day-title">Day 4 天橋立伊根</div>
                            <div class="day-sub">12月12日 (星期五)</div>
                        </div>
                    </div>

                    <div class="creamy-card">
                        <ul class="space-y-4 relative border-l-2 border-gray-100 ml-2 pl-4 py-1">
                            <li class="relative">
                                <span class="absolute -left-[21px] top-1.5 w-3 h-3 bg-blue-400 rounded-full border-2 border-white"></span>
                                <div class="font-bold text-coffee-dark">天橋立觀光船</div>
                            </li>
                            <li class="relative">
                                <span class="absolute -left-[21px] top-1.5 w-3 h-3 bg-pink-400 rounded-full border-2 border-white"></span>
                                <div class="font-bold text-coffee-dark">伊根午餐、散策</div>
                            </li>
                            <li class="relative">
                                <span class="absolute -left-[21px] top-1.5 w-3 h-3 bg-blue-400 rounded-full border-2 border-white"></span>
                                <div class="font-bold text-coffee-dark">伊根灣遊覽船 (餵海鷗)</div>
                            </li>
                            <li class="relative">
                                <span class="absolute -left-[21px] top-1.5 w-3 h-3 bg-green-400 rounded-full border-2 border-white"></span>
                                <div class="font-bold text-coffee-dark">傘松公園纜車</div>
                            </li>
                        </ul>
                    </div>
                </div>

                <div id="day-5" class="day-section mb-8">
                    <div class="timeline-dot absolute left-4 mt-6"></div>
                    <div class="day-header">
                        <div>
                            <div class="day-title">Day 5 市區漫遊</div>
                            <div class="day-sub">12月13日 (星期六)</div>
                        </div>
                    </div>

                    <div class="creamy-card">
                        <h3 class="font-bold text-coffee-dark text-lg mb-1">木津市場</h3>
                        <div class="flex justify-between items-center text-red-600 mt-2 border-t border-gray-100 pt-2">
                            <span class="font-bold">okuwo shabu</span>
                            <span class="font-bold">12:30</span>
                        </div>
                    </div>

                    <div class="creamy-card">
                        <h3 class="font-bold text-coffee-dark">心齋橋 / 道頓堀</h3>
                        <p class="text-xs text-gray-500">Shopping Day!</p>
                    </div>

                    <div class="creamy-card bg-orange-50">
                        <div class="flex justify-between items-center text-orange-800">
                            <span class="font-bold">晚餐: new babe 炸豬排</span>
                            <span class="font-bold">18:00</span>
                        </div>
                    </div>
                </div>

                <div id="day-6" class="day-section mb-8">
                    <div class="timeline-dot absolute left-4 mt-6"></div>
                    <div class="day-header">
                        <div>
                            <div class="day-title">Day 6 返程</div>
                            <div class="day-sub">12月14日 (星期日)</div>
                        </div>
                    </div>

                    <div class="creamy-card text-center py-6">
                        <i class="fa-solid fa-suitcase-rolling text-4xl text-gray-300 mb-3"></i>
                        <h3 class="font-bold text-coffee-dark">整理行李 & 前往機場</h3>
                    </div>

                    <div class="creamy-card bg-blue-50 border-blue-100">
                        <div class="flex justify-between items-center mb-2">
                            <div class="font-bold text-blue-900"><i class="fa-solid fa-plane-departure mr-2"></i>BR131</div>
                        </div>
                        <div class="flex justify-between text-sm text-gray-700 font-bold">
                            <div>12:55 KIX</div>
                            <i class="fa-solid fa-arrow-right text-gray-400"></i>
                            <div>15:05 TPE</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="page-accounting" class="view-section">
            <h2 class="text-xl font-bold mb-4">記帳本</h2>
            <div class="creamy-card">
                <p class="text-center text-gray-400 py-8">記帳功能開發中...</p>
            </div>
        </div>

        <div id="page-shopping" class="view-section">
             <h2 class="text-xl font-bold mb-4">購物清單</h2>
             <div class="creamy-card">
                <p class="text-center text-gray-400 py-8">購物清單開發中...</p>
            </div>
        </div>

    </main>

    <script>
        function switchPage(pageId) {
            // Hide all sections
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            // Show target section
            document.getElementById(pageId).classList.add('active');
            
            // Update sidebar active state
            document.querySelectorAll('.nav-func').forEach(el => el.classList.remove('active'));
            if(pageId === 'page-accounting') document.getElementById('nav-accounting').classList.add('active');
            if(pageId === 'page-shopping') document.getElementById('nav-shopping').classList.add('active');

            // Reset tabs if leaving itinerary
            if(pageId !== 'page-itinerary') {
                document.querySelectorAll('.nav-tab').forEach(el => el.classList.remove('active'));
            } else {
                document.getElementById('tab-all').classList.add('active');
            }
        }

        function scrollToDay(dayId) {
            switchPage('page-itinerary'); // Ensure we are on itinerary page
            
            // Update tabs
            document.querySelectorAll('.nav-tab').forEach(el => el.classList.remove('active'));
            document.getElementById('tab-' + dayId).classList.add('active');

            const element = document.getElementById(dayId);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        function showItinerary(filter) {
            switchPage('page-itinerary');
            document.querySelectorAll('.nav-tab').forEach(el => el.classList.remove('active'));
            document.getElementById('tab-' + filter).classList.add('active');
            // Logic to filter days if needed, currently just shows all
            document.querySelector('.main-content').scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
